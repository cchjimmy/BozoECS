var bozoecs=(()=>{var f=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var I=Object.prototype.hasOwnProperty;var S=(e,t)=>{for(var n in t)f(e,n,{get:t[n],enumerable:!0})},v=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of C(t))!I.call(e,r)&&r!==n&&f(e,r,{get:()=>t[r],enumerable:!(o=g(t,r))||o.enumerable});return e};var j=e=>v(f({},"__esModule",{value:!0}),e);var G={};S(G,{addComponents:()=>c,component:()=>u,entity:()=>s,filter:()=>x,getComponents:()=>a,removeComponents:()=>d,system:()=>h,world:()=>m});function m(...e){let t={components:[],componentStore:[]};for(let n=0;n<e.length;n++)t.components[e[n].id]=[],t.componentStore[e[n].id]=[];return(...n)=>(t.filters=n,t)}var k=function*(){let e=0;for(;;)yield e,e++}();function s(){return k.next().value}var y=function*(){let e=1;for(;;)yield e,e<<=1}();function u(e){return{id:y.next().value,properties:e}}function c(e,t,...n){for(let o=0;o<n.length;o++){let r=n[o].id,i=e.componentStore[r].pop()||e.components[r][t]||{};for(let l=0;l<e.filters.length;l++){let p=e.filters[l]();p.mask&r&&p.results.add(t)}n[o]=e.components[r][t]=Object.assign(i,n[o].properties)}return n}function d(e,t,...n){for(let o=0;o<n.length;o++){let r=n[o].id;for(let i=0;i<e.filters.length;i++){let l=e.filters[i]();l.mask&r&&l.results.delete(t)}e.componentStore[r].push(e.components[r][t]),e.components[r][t]=void 0}}function a(e,t,...n){for(let o=0;o<n.length;o++){let r=n[o].id;n[o]=e.components[r][t]}return n}function h(e){let t=e().results;return(...n)=>()=>{t.forEach(o=>n.reduce((r,i)=>i(r),o))}}function x(...e){let t=0;for(let o=0;o<e.length;o++)t+=e[o].id;let n={mask:t,results:new Set};return()=>n}return j(G);})();
