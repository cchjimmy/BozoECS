var bozoecs=(()=>{var s=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var C=Object.prototype.hasOwnProperty;var v=(e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})},S=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of k(t))!C.call(e,r)&&r!==n&&s(e,r,{get:()=>t[r],enumerable:!(o=g(t,r))||o.enumerable});return e};var I=e=>S(s({},"__esModule",{value:!0}),e);var G={};v(G,{addComponents:()=>u,component:()=>p,entity:()=>f,filter:()=>h,getComponents:()=>a,removeComponents:()=>c,removeEntity:()=>l,system:()=>d,world:()=>m});function m(...e){let t={components:[],componentStore:[]};for(let n=0;n<e.length;n++)t.components[e[n].id]=[],t.componentStore[e[n].id]=[];return(...n)=>(t.filters=n,t)}var E=function*(){let e=0;for(;;)yield e,e++}();function f(){return E.next().value}function l(e,t){let n=0;for(let o=0;o<e.components.length;o++)e.components[o]&&e.components[o][t]&&(e.componentStore[o].push(e.components[o][t]),e.components[o][t]=void 0,n+=o);for(let o=0;o<e.filters.length;o++)e.filters[o].mask&n&&e.filters[o].results.delete(t)}var y=function*(){let e=1;for(;;)yield e,e<<=1}();function p(e){return{id:y.next().value,properties:e}}function u(e,t,...n){let o=0;for(let r=0;r<n.length;r++){let i=n[r].id,x=e.componentStore[i].pop()||e.components[i][t]||{};n[r]=e.components[i][t]=Object.assign(x,n[r].properties),o+=i}for(let r=0;r<e.filters.length;r++)e.filters[r].mask&o&&e.filters[r].results.add(t);return n}function c(e,t,...n){let o=0;for(let r=0;r<n.length;r++){let i=n[r].id;e.componentStore[i].push(e.components[i][t]),e.components[i][t]=void 0,o+=i}for(let r=0;r<e.filters.length;r++)e.filters[r].mask&o&&e.filters[r].results.delete(t)}function a(e,t,...n){for(let o=0;o<n.length;o++){let r=n[o].id;n[o]=e.components[r][t]}return n}function d(e){let t=e.results;return(...n)=>()=>{t.forEach(o=>n.reduce((r,i)=>i(r),o))}}function h(...e){let t=0;for(let n=0;n<e.length;n++)t+=e[n].id;return{mask:t,results:new Set}}return I(G);})();
