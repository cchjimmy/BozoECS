var bozoecs=(()=>{var l=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var C=Object.prototype.hasOwnProperty;var v=(e,t)=>{for(var n in t)l(e,n,{get:t[n],enumerable:!0})},S=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of k(t))!C.call(e,r)&&r!==n&&l(e,r,{get:()=>t[r],enumerable:!(o=g(t,r))||o.enumerable});return e};var I=e=>S(l({},"__esModule",{value:!0}),e);var y={};v(y,{addComponents:()=>u,component:()=>p,entity:()=>f,filter:()=>h,getComponents:()=>d,removeComponents:()=>c,removeEntity:()=>s,system:()=>a,world:()=>m});function m(...e){let t={components:[],componentStore:[]};for(let n=0;n<e.length;n++)t.components[e[n].id]=[],t.componentStore[e[n].id]=[];return(...n)=>(t.filters=n,t)}var j=function*(){let e=0;for(;;)yield e,e++}();function f(){return j.next().value}function s(e,t){let n=0;for(let o=0;o<e.components.length;o++)e.components[o]&&e.components[o][t]&&(e.componentStore[o].push(e.components[o][t]),e.components[o][t]=void 0,n+=o);for(let o=0;o<e.filters.length;o++){let r=e.filters[o]();r.mask&n&&r.results.delete(t)}}var E=function*(){let e=1;for(;;)yield e,e<<=1}();function p(e){return{id:E.next().value,properties:e}}function u(e,t,...n){let o=0;for(let r=0;r<n.length;r++){let i=n[r].id,x=e.componentStore[i].pop()||e.components[i][t]||{};n[r]=e.components[i][t]=Object.assign(x,n[r].properties),o+=i}for(let r=0;r<e.filters.length;r++){let i=e.filters[r]();i.mask&o&&i.results.add(t)}return n}function c(e,t,...n){let o=0;for(let r=0;r<n.length;r++){let i=n[r].id;e.componentStore[i].push(e.components[i][t]),e.components[i][t]=void 0,o+=i}for(let r=0;r<e.filters.length;r++){let i=e.filters[r]();i.mask&o&&i.results.delete(t)}}function d(e,t,...n){for(let o=0;o<n.length;o++){let r=n[o].id;n[o]=e.components[r][t]}return n}function a(e){let t=e().results;return(...n)=>()=>{t.forEach(o=>n.reduce((r,i)=>i(r),o))}}function h(...e){let t=0;for(let o=0;o<e.length;o++)t+=e[o].id;let n={mask:t,results:new Set};return()=>n}return I(y);})();
