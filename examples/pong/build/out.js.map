{
  "version": 3,
  "sources": ["../../../src/pool.ts", "../../../src/component.ts", "../../../src/entity.ts", "../../../src/world.ts", "../src/config.json", "../src/main.ts"],
  "sourcesContent": ["export class ObjectPoolMap<K, V> {\n  private storage: V[] = [];\n  private keyToIndex: Map<K, number> = new Map();\n  private indexToKey: Array<K> = [];\n  private objectFactory: () => V;\n  private size = 0;\n\n  constructor(objectFactory: () => V) {\n    this.objectFactory = objectFactory;\n  }\n\n  len() {\n    return this.size;\n  }\n\n  add(key: K): V {\n    const index = this.keyToIndex.get(key);\n    if (index != undefined) return this.storage[index];\n    if (this.size >= this.storage.length)\n      this.storage.push(this.objectFactory());\n    this.keyToIndex.set(key, this.size);\n    this.indexToKey[this.size] = key;\n    this.size++;\n    return this.storage[this.size - 1];\n  }\n\n  remove(key: K): boolean {\n    const index = this.keyToIndex.get(key) ?? -1;\n    const backKey = this.indexToKey[this.size - 1];\n    if (index < 0 || index >= this.size || !backKey) return false;\n    const removed = this.storage[index];\n    // swap with last to maintain packed\n    this.storage[index] = this.storage[this.size - 1];\n    this.storage[this.size - 1] = removed;\n    // set before deleting because backKey == key sometimes\n    this.keyToIndex.set(backKey, index);\n    this.keyToIndex.delete(key);\n    this.indexToKey[index] = backKey;\n    this.size--;\n    return true;\n  }\n\n  get(key: K): V {\n    const index = this.keyToIndex.get(key) ?? -1;\n    if (index < 0 || index >= this.size) throw new Error(\"Index out of range.\");\n    return this.storage[index];\n  }\n\n  has(key: K): boolean {\n    return this.keyToIndex.has(key);\n  }\n\n  clean() {\n    this.storage.splice(this.size);\n    this.indexToKey.splice(this.size);\n    for (const key of this.keyToIndex.keys()) {\n      const index = this.keyToIndex.get(key) ?? -1;\n      (index < 0 || index >= this.size) && this.keyToIndex.delete(key);\n    }\n  }\n}\n", "import { ObjectPoolMap } from \"./pool.ts\";\nimport { entityT, newEntity } from \"./entity.ts\";\n\nexport class ComponentManager {\n  private pools: Map<object, unknown> = new Map();\n  private idMap: Map<object, number> = new Map();\n\n  register<T extends object>(component: T) {\n    if (this.pools.has(component)) return;\n    this.idMap.set(component, this.idMap.size);\n    this.pools.set(\n      component,\n      new ObjectPoolMap<entityT, T>(() => ({ ...component })),\n    );\n  }\n\n  getId<T extends object>(component: T): number {\n    return this.idMap.get(component) ?? -1;\n  }\n\n  add<T extends object>(entity: entityT, component: T): T {\n    return Object.assign(\n      (this.pools.get(component) as ObjectPoolMap<entityT, T>).add(entity),\n      component,\n    );\n  }\n\n  remove<T extends object>(entity: entityT, component: T): boolean {\n    return (this.pools.get(component) as ObjectPoolMap<entityT, T>).remove(\n      entity,\n    );\n  }\n\n  get<T extends object>(entity: entityT, component: T): T {\n    return (this.pools.get(component) as ObjectPoolMap<entityT, T>).get(entity);\n  }\n\n  len<T extends object>(component: T): number {\n    return (this.pools.get(component) as ObjectPoolMap<entityT, T>).len();\n  }\n\n  delete(entity: entityT) {\n    for (const p of this.pools.values()) {\n      const pool = p as ObjectPoolMap<entityT, object>;\n      pool.remove(entity);\n    }\n  }\n\n  copy(srcEntity: entityT, destEntity: entityT) {\n    for (const p of this.pools.values()) {\n      const pool = p as ObjectPoolMap<entityT, object>;\n      pool.has(srcEntity) &&\n        Object.assign(pool.add(destEntity), pool.get(srcEntity));\n    }\n  }\n\n  clean() {\n    for (const p of this.pools.values()) {\n      const pool = p as ObjectPoolMap<entityT, object>;\n      pool.clean();\n    }\n  }\n}\n", "export type entityT = number;\nexport function newEntity(): entityT {\n  return Math.random();\n}\n", "import { ComponentManager } from \"./component.ts\";\nimport { newEntity, type entityT } from \"./entity.ts\";\n\nexport type queryT = Partial<Record<\"and\" | \"not\", object[]>>;\n\nexport class World {\n  private maskMap: Map<number, number> = new Map();\n  private archetypeMap: Map<number, Set<entityT>> = new Map();\n  private entitiesToDelete: entityT[] = [];\n  private compManager = new ComponentManager();\n  private frameCount = 0;\n  cleanUpMinutes = 5;\n\n  constructor(cleanUpMinutes = 5) {\n    this.cleanUpMinutes = cleanUpMinutes;\n  }\n\n  addEntity(entity: entityT = newEntity()): entityT {\n    this.maskMap.set(entity, 0);\n    this.getArchetype(0).add(entity);\n    return entity;\n  }\n\n  copyEntity(src: entityT, dest: entityT = newEntity()): entityT {\n    this.compManager.copy(src, dest);\n    const mask = this.maskMap.get(src) ?? 0;\n    this.maskMap.set(dest, mask);\n    this.getArchetype(mask).add(dest);\n    return dest;\n  }\n\n  private getArchetype(mask: number): Set<entityT> {\n    const a = this.archetypeMap.get(mask) ?? new Set();\n    this.archetypeMap.set(mask, a);\n    return a;\n  }\n\n  deleteEntity(entity: entityT) {\n    this.entitiesToDelete.push(entity);\n  }\n\n  registerComponent<T extends object>(component: T): World {\n    this.compManager.register(component);\n    return this;\n  }\n\n  hasComponent<T extends object>(entity: entityT, component: T): boolean {\n    return (\n      ((this.maskMap.get(entity) ?? 0) &\n        (1 << this.compManager.getId(component))) >\n      0\n    );\n  }\n\n  addComponent<T extends object>(\n    entity: entityT,\n    component: T,\n    values: Partial<T> = component,\n  ): T {\n    this.registerComponent(component);\n    let mask = this.maskMap.get(entity) ?? 0;\n    const compId = this.compManager.getId(component);\n    if ((mask & (1 << compId)) != 0) {\n      return Object.assign(this.compManager.get(entity, component), values);\n    }\n    this.getArchetype(mask).delete(entity);\n    mask |= 1 << compId;\n    this.maskMap.set(entity, mask);\n    this.getArchetype(mask).add(entity);\n    return Object.assign(this.compManager.add(entity, component), values);\n  }\n\n  removeComponent<T extends object>(entity: entityT, component: T): boolean {\n    this.registerComponent(component);\n    let mask = this.maskMap.get(entity) ?? 0;\n    const compId = this.compManager.getId(component);\n    if ((mask & (1 << compId)) == 0) return false;\n    this.getArchetype(mask).delete(entity);\n    mask &= ~(1 << compId);\n    this.maskMap.set(entity, mask);\n    this.getArchetype(mask).add(entity);\n    return this.compManager.remove(entity, component);\n  }\n\n  getComponent<T extends object>(entity: entityT, component: T): T {\n    return this.compManager.get(entity, component);\n  }\n\n  update(...fns: ((world: World) => void)[]) {\n    for (let i = 0, l = fns.length; i < l; i++) fns[i](this);\n    this.commitEntityDeletion();\n    this.frameCount % (this.cleanUpMinutes * 60 * 60) == 0 &&\n      this.cleanObjectPools();\n    this.frameCount++;\n  }\n\n  commitEntityDeletion() {\n    while (this.entitiesToDelete.length) {\n      const entity = this.entitiesToDelete.pop() as entityT;\n      this.compManager.delete(entity);\n      const mask = this.maskMap.get(entity) ?? 0;\n      this.maskMap.delete(entity);\n      this.getArchetype(mask).delete(entity);\n    }\n  }\n\n  cleanObjectPools() {\n    this.compManager.clean();\n  }\n\n  query(query: queryT): entityT[] {\n    let andMask = 0,\n      notMask = 0;\n    if (query.and) {\n      for (let i = 0, l = query.and.length; i < l; i++) {\n        andMask |= 1 << this.compManager.getId(query.and[i]);\n      }\n    }\n    if (query.not) {\n      for (let i = 0, l = query.not.length; i < l; i++) {\n        notMask |= 1 << this.compManager.getId(query.not[i]);\n      }\n    }\n    const res: entityT[] = [];\n    this.archetypeMap.forEach((_v, k) => {\n      const set = this.getArchetype(k);\n      set.size > 0 &&\n        (k & andMask) == andMask &&\n        (k & notMask) == 0 &&\n        res.push(...set);\n    });\n    return [...new Set(res)];\n  }\n\n  entityCount(): number {\n    return this.maskMap.size;\n  }\n}\n", "{\n\t\"playArea\": {\n\t\t\"width\": 600,\n\t\t\"height\": 400\n\t},\n\t\"paddle\": {\n\t\t\"speed\": 200,\n\t\t\"width\": 10,\n\t\t\"height\": 70,\n\t\t\"padding\": 0.1\n\t},\n\t\"ball\": {\n\t\t\"speed\": 200,\n\t\t\"width\": 10,\n\t\t\"height\": 10\n\t}\n}\n", "import { entityT, World } from \"bozoecs\";\nimport { default as config } from \"./config.json\" with { type: \"json\" };\n\nconst canvas = document.querySelector(\"canvas\");\nconst ctx = canvas?.getContext(\"2d\");\n\n// components\nconst Rect = {\n  width: 1,\n  height: 1,\n  color: \"white\",\n};\nconst Position = {\n  x: 0,\n  y: 0,\n};\nconst Velocity = {\n  x: 0,\n  y: 0,\n};\nconst Text = {\n  content: \"\",\n  fontSize: 20,\n  padding: 3,\n  color: \"black\",\n  backgroundColor: \"white\",\n};\nconst PlayerControl = {\n  isLeft: true,\n};\n\n// world\nconst w = new World();\n\n// systems\nfunction handlePlayerControl(world: World) {\n  world.query({ and: [Velocity, PlayerControl] }).forEach((e) => {\n    const v = world.getComponent(e, Velocity);\n    const pc = world.getComponent(e, PlayerControl);\n    v.y = 0;\n    if (pc.isLeft) {\n      if (keys[\"w\"]) {\n        v.y -= 1;\n      }\n      if (keys[\"s\"]) {\n        v.y += 1;\n      }\n    } else {\n      if (keys[\"ArrowUp\"]) {\n        v.y -= 1;\n      }\n      if (keys[\"ArrowDown\"]) {\n        v.y += 1;\n      }\n    }\n    for (const pos of Object.values(touches)) {\n      if (ctx) {\n        const old = ctx.fillStyle;\n        ctx.fillStyle = \"green\";\n        ctx.fillRect(pos.x, pos.y, 20, 20);\n        ctx.fillStyle = old;\n      }\n      if (pos.x < config.playArea.width * 0.5) {\n        if (!pc.isLeft) continue;\n      } else {\n        if (pc.isLeft) continue;\n      }\n      if (pos.y < config.playArea.height * 0.5) {\n        v.y -= 1;\n      }\n      if (pos.y > config.playArea.height * 0.5) {\n        v.y += 1;\n      }\n    }\n    v.y = (v.y / Math.abs(v.y || 1)) * config.paddle.speed;\n  });\n}\n\nfunction drawBackgound() {\n  if (!ctx || !canvas) return;\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n}\n\nfunction move(world: World) {\n  const dt = dtMilli / 1000;\n  world.query({ and: [Position, Velocity] }).forEach((e) => {\n    const p = world.getComponent(e, Position);\n    const v = world.getComponent(e, Velocity);\n    p.x += v.x * dt;\n    p.y += v.y * dt;\n  });\n}\n\nfunction drawRects(world: World) {\n  if (!ctx) return;\n  world.query({ and: [Rect, Position] }).forEach((e) => {\n    const p = world.getComponent(e, Position);\n    const r = world.getComponent(e, Rect);\n    const old = ctx.fillStyle;\n    ctx.fillStyle = r.color;\n    ctx.fillRect(\n      Math.floor(p.x - r.width * 0.5),\n      Math.floor(p.y - r.height * 0.5),\n      r.width,\n      r.height,\n    );\n    ctx.fillStyle = old;\n  });\n}\n\nfunction drawTexts(world: World) {\n  if (!ctx) return;\n  world.query({ and: [Text, Position] }).forEach((e) => {\n    const t = world.getComponent(e, Text);\n    const p = world.getComponent(e, Position);\n\n    ctx.font = `${t.fontSize}px serif`;\n    const txtMetric = ctx.measureText(t.content);\n    const old = ctx.fillStyle;\n    ctx.fillStyle = t.backgroundColor;\n    ctx.fillRect(\n      p.x,\n      p.y,\n      t.padding * 2 + txtMetric.width,\n      t.padding * 2 + txtMetric.fontBoundingBoxAscent,\n    );\n    ctx.fillStyle = t.color;\n    ctx.fillText(\n      t.content,\n      p.x + t.padding,\n      p.y + t.padding + txtMetric.fontBoundingBoxAscent,\n    );\n    ctx.fillStyle = old;\n  });\n}\n\nfunction checkCollision(world: World) {\n  const rects = world.query({ and: [Position, Rect] });\n  rects.forEach((e) => {\n    const p = world.getComponent(e, Position);\n    const r = world.getComponent(e, Rect);\n    rects.forEach((other) => {\n      if (other == e) return;\n      const p1 = world.getComponent(other, Position);\n      const r1 = world.getComponent(other, Rect);\n      if (\n        (p.x - p1.x) ** 2 < ((r.width + r1.width) * 0.5) ** 2 &&\n        (p.y - p1.y) ** 2 < ((r.height + r1.height) * 0.5) ** 2\n      ) {\n        onCollision(e, other);\n      }\n    });\n  });\n}\n\nfunction checkGoal(world: World) {\n  const p = world.getComponent(ball, Position);\n  const r = world.getComponent(ball, Rect);\n  if (p.x - r.width > config.playArea.width) {\n    scores.left++;\n    onGoal();\n  }\n  if (p.x + r.width < 0) {\n    scores.right++;\n    onGoal();\n  }\n}\n\n// entity\nfunction addPlayerPaddle(x: number, y: number, isLeft: boolean): entityT {\n  const e = addRect(x, y, config.paddle.width, config.paddle.height);\n  const pc = w.addComponent(e, PlayerControl);\n  pc.isLeft = isLeft;\n  return e;\n}\n\nfunction addRect(\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  color: string = \"white\",\n): entityT {\n  const e = w.addEntity();\n  const p = w.addComponent(e, Position);\n  const r = w.addComponent(e, Rect);\n  w.addComponent(e, Velocity);\n  p.x = x;\n  p.y = y;\n  r.width = width;\n  r.height = height;\n  r.color = color;\n  return e;\n}\n\nfunction addText(\n  txt: string,\n  x: number = 0,\n  y: number = 0,\n  txtColor: string = \"black\",\n  fontSize: number = 20,\n  backgroundColor: string = \"rgba(0,0,0,0)\",\n): entityT {\n  const e = w.addEntity();\n  const t = w.addComponent(e, Text);\n  const p = w.addComponent(e, Position);\n  t.content = txt;\n  t.color = txtColor;\n  t.fontSize = fontSize;\n  t.backgroundColor = backgroundColor;\n  p.x = x;\n  p.y = y;\n  return e;\n}\n\nif (canvas) {\n  canvas.width = config.playArea.width;\n  canvas.height = config.playArea.height;\n  //canvas.style.imageRendering = \"pixelated\";\n}\n\nconst keys: Record<KeyboardEvent[\"key\"], boolean> = {};\nglobalThis.onkeydown = (e) => {\n  keys[e.key] = true;\n};\nglobalThis.onkeyup = (e) => {\n  delete keys[e.key];\n};\n\n// multi touch\nconst touches: Record<number, { x: number; y: number }> = {};\nglobalThis.window.ontouchmove = globalThis.window.ontouchstart = (e) => {\n  if (!canvas) return;\n  const rect = canvas.getBoundingClientRect();\n  for (let i = 0, l = e.changedTouches.length; i < l; i++) {\n    const p = (touches[e.changedTouches[i].identifier] = {\n      x: e.changedTouches[i].clientX,\n      y: e.changedTouches[i].clientY,\n    });\n    p.x -= rect.left;\n    p.y -= rect.top;\n    if (innerWidth / innerHeight < canvas.width / canvas.height) {\n      p.x *= canvas.width / innerWidth;\n      p.y *= canvas.width / innerWidth;\n    } else {\n      p.x *= canvas.height / innerHeight;\n      p.y *= canvas.height / innerHeight;\n    }\n  }\n};\nglobalThis.window.ontouchend = (e) => {\n  for (let i = 0, l = e.changedTouches.length; i < l; i++) {\n    delete touches[e.changedTouches[i].identifier];\n  }\n};\n\n//bottom wall\naddRect(\n  config.playArea.width * 0.5,\n  config.playArea.height * 0,\n  config.playArea.width,\n  10,\n);\n//top wall\naddRect(\n  config.playArea.width * 0.5,\n  config.playArea.height * 1,\n  config.playArea.width,\n  10,\n);\n\nconst ball = addRect(\n  config.playArea.width * 0.5,\n  config.playArea.height * 0.5,\n  config.ball.width,\n  config.ball.height,\n);\n\nconst playerLeft = addPlayerPaddle(\n  config.playArea.width * config.paddle.padding,\n  config.playArea.height * 0.5,\n  true,\n);\nconst playerRight = addPlayerPaddle(\n  config.playArea.width * (1 - config.paddle.padding),\n  config.playArea.height * 0.5,\n  false,\n);\n\nfunction reset() {\n  const ballV = w.getComponent(ball, Velocity);\n  const ballP = w.getComponent(ball, Position);\n  ballP.x = config.playArea.width * 0.5;\n  ballP.y = config.playArea.height * 0.5;\n  ballV.x = config.ball.speed;\n  ballV.y = 0;\n  let rad = ((Math.random() * 40) / 180) * Math.PI;\n  rad *= Math.random() > 0.5 ? 1 : -1;\n  rad += Math.random() > 0.5 ? Math.PI : 0;\n  rotate(ballV, rad);\n  const pLP = w.getComponent(playerLeft, Position);\n  const pRP = w.getComponent(playerRight, Position);\n  pLP.y = config.playArea.height * 0.5;\n  pRP.y = config.playArea.height * 0.5;\n}\n\nfunction rotate(vec2: { x: number; y: number }, rad: number) {\n  const s = Math.sin(rad);\n  const c = Math.cos(rad);\n  const x = vec2.x;\n  const y = vec2.y;\n  vec2.x = c * x - s * y;\n  vec2.y = s * x + c * y;\n}\n\nfunction onGoal() {\n  const t = w.getComponent(goalTexts, Text);\n  t.content = `${scores.left} : ${scores.right}`;\n  reset();\n}\n\nfunction onCollision(e: entityT, other: entityT) {\n  const p = w.getComponent(e, Position);\n  const p1 = w.getComponent(other, Position);\n  const r = w.getComponent(e, Rect);\n  const r1 = w.getComponent(other, Rect);\n  const v = w.getComponent(e, Velocity);\n  const v1 = w.getComponent(other, Velocity);\n\n  const vMag = (v.x ** 2 + v.y ** 2) ** 0.5;\n  const vNx = v.x / vMag,\n    vNy = v.y / vMag;\n  //p.x+vNx*t=someX,t=(someX-p.x)/vNx\n  let t = 0;\n  if (vNx != 0) {\n    t = (p1.x - (r1.width + r.width) * 0.5 - p.x) / vNx;\n    if (\n      p.x < p1.x &&\n      t < 0 &&\n      p.y + t * vNy < p1.y + (r1.height + r.height) * 0.5 &&\n      p.y + t * vNy > p1.y - (r1.height + r.height) * 0.5\n    ) {\n      p.x += t * vNx;\n      p.y += t * vNy;\n      v.x > 0 && (v.x *= -1);\n      v.y += v1.y;\n    }\n    t = (p1.x + (r1.width + r.width) * 0.5 - p.x) / vNx;\n    if (\n      p.x > p1.x &&\n      t < 0 &&\n      p.y + t * vNy < p1.y + (r1.height + r.height) * 0.5 &&\n      p.y + t * vNy > p1.y - (r1.height + r.height) * 0.5\n    ) {\n      p.x += t * vNx;\n      p.y += t * vNy;\n      v.x < 0 && (v.x *= -1);\n      v.y += v1.y;\n    }\n  }\n  if (vNy != 0) {\n    t = (p1.y - (r1.height + r.height) * 0.5 - p.y) / vNy;\n    if (\n      p.y < p1.y &&\n      t < 0 &&\n      p.x + t * vNx < p1.x + (r1.width + r.width) * 0.5 &&\n      p.x + t * vNx > p1.x - (r1.width + r.width) * 0.5\n    ) {\n      p.x += t * vNx;\n      p.y += t * vNy;\n      v.y > 0 && (v.y *= -1);\n    }\n    t = (p1.y + (r1.height + r.height) * 0.5 - p.y) / vNy;\n    if (\n      p.y > p1.y &&\n      t < 0 &&\n      p.x + t * vNx < p1.x + (r1.width + r.width) * 0.5 &&\n      p.x + t * vNx > p1.x - (r1.width + r.width) * 0.5\n    ) {\n      p.x += t * vNx;\n      p.y += t * vNy;\n      v.y < 0 && (v.y *= -1);\n    }\n  }\n}\n\nconst scores = { left: 0, right: 0 };\n\nconst goalTexts = addText(`${scores.left} : ${scores.right}`);\nconst t = w.getComponent(goalTexts, Text);\nt.color = \"white\";\nt.fontSize = 40;\n\nlet dtMilli = 0;\nlet timeMilli = 0;\n\nreset();\n\n(function update() {\n  w.update(\n    drawBackgound,\n    drawRects,\n    drawTexts,\n    move,\n    handlePlayerControl,\n    checkCollision,\n    checkGoal,\n  );\n  dtMilli = performance.now() - timeMilli;\n  timeMilli += dtMilli;\n  requestAnimationFrame(update);\n})();\n"],
  "mappings": "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",
  "names": ["ObjectPoolMap", "objectFactory", "key", "index", "backKey", "removed", "ComponentManager", "component", "ObjectPoolMap", "entity", "p", "srcEntity", "destEntity", "pool", "newEntity", "World", "ComponentManager", "cleanUpMinutes", "entity", "newEntity", "src", "dest", "mask", "a", "component", "values", "compId", "fns", "i", "l", "query", "andMask", "notMask", "res", "_v", "k", "set", "config_default", "canvas", "ctx", "Rect", "Position", "Velocity", "Text", "PlayerControl", "w", "World", "handlePlayerControl", "world", "v", "pc", "keys", "pos", "touches", "old", "config_default", "drawBackgound", "move", "dt", "dtMilli", "e", "p", "drawRects", "r", "drawTexts", "txtMetric", "checkCollision", "rects", "other", "p1", "r1", "onCollision", "checkGoal", "ball", "scores", "onGoal", "addPlayerPaddle", "x", "y", "isLeft", "addRect", "width", "height", "color", "addText", "txt", "txtColor", "fontSize", "backgroundColor", "t", "rect", "i", "l", "playerLeft", "playerRight", "reset", "ballV", "ballP", "rad", "rotate", "pLP", "pRP", "vec2", "s", "c", "goalTexts", "v1", "vMag", "vNx", "vNy", "timeMilli", "update"]
}
